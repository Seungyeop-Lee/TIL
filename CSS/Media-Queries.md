# 미디어 쿼리

- 반응형 웹 디자인에 필요한 구문인 미디어 쿼리에 대해 정리한다.

## 미디어 쿼리 구문

- 미디어 쿼리는 `@media`속성을 이용해 적용 할 CSS구문을 지정한다.
- 기본형은 `@media [only | not] 미디어 유형[, 미디어 유형[, ...]] [and (조건)] ... [and (조건)]`이다.

연산자 | 설명
------|------
`only` | 미디어 쿼리 지원 브라우저에서만 작동하는 것을 명시. IE는 미디어 쿼리 자체를 인식하지 못하므로 의미 없음
`not` | `not`연산자 다음으로 오는 미디어 유형을 제외한 모든 유형에 대해 적용 
`and` | 조건을 추가 할 때 사용

미디어 유형 | 설명
-----------|------
all | 모든 미디어 유형
print | 인쇄 장치
screen | 컴퓨터 스크린(스마트폰 스크린 포함)
tv | 음성과 영상 동시 출력 가능 장치
aural | 화면을 읽어 음성으로 출력하는 장치
braille | 점자 표시 장치
handheld | 손에 들고 다니는 장치(ex. 패드)
projection | 프로젝터
tty | 디스플레이 기능이 제한된 장치
embossed | 점자 프린터

## 미디어 쿼리 조건

- 미디어 쿼리에서 주로 사용하는 조건에 대해 정리한다.

### 웹 문서의 폭과 높이

- 뷰포트의 폭과 높이에 대한 조건을 설정 할 수 있다.

속성 | 설명
----|------
`width` | 웹 페이지의 폭
`height` | 웹 페이지의 높이
`min-width` | 웹 페이지의 최소 폭
`min-height` | 웹 페이지의 최소 높이
`max-width` | 웹 페이지의 최대 폭
`max-height` | 웹 페이지의 최대 높이

```css
@media screen (min-width: 600px) and (max-width: 960px) {
  /* 뷰포트의 폭이 600px이상, 960px이하일 경우 이곳에 선언한 CSS가 적용된다. */
}
```

### 단말기 화면의 폭과 높이

- 대부분의 단말기는 뷰포트의 폭과 높이와 실제 단말기 화면의 폭과 높이가 다르다.
- 단말기 화면의 폭과 높이에 대한 조건을 설정 할 수 있다.

속성 | 설명
----|------
`device-width` | 단말기의 폭
`device-height` | 단말기의 높이
`min-device-width` | 단말기의 최소 폭
`min-device-height` | 단말기의 최소 높이
`max-device-width` | 단말기의 최대 폭
`max-device-height` | 단말기의 최대 높이

```css
@media screen and (min-device-width: 320px) and (max-device-width: 960px) {
  /* 단말기의 폭이 320px이상, 960px이하일 경우 이곳에 선언한 CSS가 적용된다. */
}
```

### 화면 회전

- 모바일 단말기의 세로모드와 가로모드에 대한 조건을 설정 할 수 있다.
- `orientation`속성을 사용하며 세로모드는 portrait, 가로모드는 landscape의 속성값을 지정한다.

```css
@media screen and (orientation: landscape) {
  /* 단말기가 가로모드일때 이곳에 선언한 CSS가 적용된다. */
}
```

### 뷰포트 비율

- 뷰포트의 비율에 따른 조건을 설정 할 수 있다.

속성 | 설명
----|------
`aspect-ratio` | 뷰포트의 비율 (화면width값 / 화면height값)
`min-aspect-ratio` | 최소 뷰포트의 비율
`max-aspect-ratio` | 최대 뷰포트의 비율

```css
@media screen and (min-aspect-ratio: 16/9) {
  /* 뷰포트의 비율이 16/9이상인 경우 이곳에 선언한 CSS가 적용된다. */
}
```

### 단말기의 화면 비율

- 단말기의 화면 비율에 따른 조건을 설정 할 수 있다.

속성 | 설명
----|------
`device-aspect-ratio` | 단말기 화면 비율 (단말기width값 / 단말기height값)
`min-device-aspect-ratio` | 단말기의 최소 화면 비율
`max-device-aspect-ratio` | 단말기의 최대 화면 비율

```css
@media screen and (device-aspect-ratio: 21/9) {
  /* 단말기 화면 비율이 21/9일 경우 이곳에 선언한 CSS가 적용된다. */
}
```

### 색상당 비트 수

- 디스플레이가 지원하는 색상의 비트 수를 조건으로 설정 할 수 있다.

속성 | 설명
----|------
color | 비트 수
min-color | 최소 비트 수
max-color | 최대 비트 수

- 비트 수에 따라 나타낼 수 있는 색상의 수는 2의 비트 수 제곱이다.
  - 비트 수: 3 -> 색상의 수: 8
  - 비트 수: 8 -> 색상의 수: 256
  - 비트 수: 16 -> 색상의 수: 65536

## 미디어 쿼리 중단점

- 서로 다른 CSS를 적용 할 기준이 되는 조건을 중단점(break point)이라고 한다.
- 모바일 기기, 태블릿, 데스크톱으로 나누는 것이 일반적이다.
- 모바일 기기의 경우, 가장 제한사항이 많이 때문에 제일 먼저 모바일에 대한 CSS를 정의 후 여러 기능을 추가 하면서 태블릿, 데스크톱의 CSS를 정의하는 것이 일반적이다.

### 일반적인 각 기기에 대한 중단점

종류 | 모드 | min-width
----|------|-----------
스마트폰 | 세로 | 320px
스마트폰 | 가로 | 480px
태블릿 | 세로 | 768px
태블릿 | 가로 | 1024px
데스크톱 | - | 1024px

## 참고

- [Do it! HTML5+CSS3 웹 표준의 정석 <개정판>, 2017, 고경희](http://www.easyspub.co.kr/20_Menu/BookView/119/PUB)